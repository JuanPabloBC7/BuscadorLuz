---------------------------------------------
PIC ASSEMBLER LISTING
Line    Address Opcode  Instruction
---------------------------------------------
0001    0000            
0002    0000            DATO	EQU 0X21
0003    0000            d1   	EQU 0X22
0004    0000            d2	EQU 0X23
0005    0000            d3	EQU 0X24
0006    0000            d4	EQU 0x25
0007    0000            d5	EQU 0X26
0008    0000            INICIO
0009    0000            	ORG	0X00
0010    0000            
0011    0000            
0012    0000    1683    	BSF	STATUS, 5 ; Colocamos en 1 el bit 5 de reg. estatus 
0013    0001            ; en el banco 1 tenemos trisa, trisb, ... , trisd
0014    0001            ; debemos configurar puerto de entrada y salida..
0015    0001            ; puerto b
0016    0001    0186    	CLRF	TRISB		; CLEAR FILE CONFIGURA EL PUERTO B PARA QUE SEA SALIDA (0 = SALIDA)
0017    0002    1787    	BSF TRISC, 7		; PUERTO C -> ENTRADA
0018    0003    0188    	CLRF 	TRISD		; PUERTO D -> SALIDA
0019    0004            
0020    0004    1283    	BCF	STATUS, RP0		;BITCLEAR FILE DE RP0 = BIT CLEARFY 5
0021    0005            	
0022    0005    3000    	movlw 0x00;
0023    0006    0086    	movwf	portb;
0024    0007    3000    	movlw 0x00;
0025    0008    0088    	movwf portd;
0026    0009            
0027    0009            
0028    0009            START	
0029    0009    2012    	CALL PASOADELANTE
0030    000A    2062    	CALL MOVIMIENTOBDELANTE
0031    000B    2012    	CALL PASOADELANTE
0032    000C    2069    	CALL MOVIMIENTOBDETRAZ
0033    000D    2012    	CALL PASOADELANTE
0034    000E    2062    	CALL MOVIMIENTOBDELANTE
0035    000F    2012    	CALL PASOADELANTE
0036    0010    2069    	CALL MOVIMIENTOBDETRAZ
0037    0011    2809    	GOTO START
0038    0012            
0039    0012            END
0040    0012            
0041    0012            
0042    0012            
0043    0012            
0044    0012            
0045    0012            
0046    0012            
0047    0012            PASOADELANTE
0048    0012    2034    	CALL PASO1A
0049    0013    2070    	CALL DELAY
0050    0014    2038    	CALL PASO2A
0051    0015    2070    	CALL DELAY
0052    0016    203C    	CALL PASO3A
0053    0017    2070    	CALL DELAY
0054    0018    2040    	CALL PASO4A
0055    0019    2070    	CALL DELAY
0056    001A    0008    	RETURN	
0057    001B            PASOAREVEZ
0058    001B    2040    	CALL PASO4A
0059    001C    2070    	CALL DELAY
0060    001D    203C    	CALL PASO3A
0061    001E    2070    	CALL DELAY
0062    001F    2038    	CALL PASO2A
0063    0020    2070    	CALL DELAY
0064    0021    2034    	CALL PASO1A
0065    0022    2070    	CALL DELAY
0066    0023    0008    	RETURN	
0067    0024            
0068    0024            PASOBDELANTE
0069    0024    2044    	CALL PASO1B
0070    0025    2070    	CALL DELAY
0071    0026    2048    	CALL PASO2B
0072    0027    2070    	CALL DELAY
0073    0028    204C    	CALL PASO3B
0074    0029    2070    	CALL DELAY
0075    002A    2050    	CALL PASO4B
0076    002B    0008    	RETURN
0077    002C            
0078    002C            PASOBREVEZ
0079    002C    2050    	CALL PASO4B
0080    002D    2070    	CALL DELAY
0081    002E    204C    	CALL PASO3B
0082    002F    2070    	CALL DELAY
0083    0030    2048    	CALL PASO2B
0084    0031    2070    	CALL DELAY
0085    0032    2044    	CALL PASO1B
0086    0033    0008    	RETURN
0087    0034            
0088    0034            	
0089    0034            PASO1A
0090    0034    300C    	MOVLW	B'00001100' 	; EN W SE ENCUENTRA 0001100
0091    0035    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0092    0036    2054    	CALL DISPLAYA
0093    0037    0008    	RETURN
0094    0038            PASO2A
0095    0038    3006    	MOVLW	B'00000110' ; EN W SE ENCUENTRA 0001100
0096    0039    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0097    003A    2054    	CALL DISPLAYA
0098    003B    0008    	RETURN
0099    003C            PASO3A
0100    003C    3003    	MOVLW	B'00000011' ; EN W SE ENCUENTRA 0001100
0101    003D    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0102    003E    2054    	CALL DISPLAYA
0103    003F    0008    	RETURN
0104    0040            PASO4A
0105    0040    3009    	MOVLW	B'00001001' ; EN W SE ENCUENTRA 0001100
0106    0041    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0107    0042    2054    	CALL DISPLAYA
0108    0043    0008    	RETURN
0109    0044            
0110    0044            PASO1B
0111    0044    300C    	MOVLW	B'00001100' ; EN W SE ENCUENTRA 0001100
0112    0045    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0113    0046    2057    	CALL DISPLAYB
0114    0047    0008    	RETURN
0115    0048            PASO2B
0116    0048    3006    	MOVLW	B'00000110' ; EN W SE ENCUENTRA 0001100
0117    0049    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0118    004A    2057    	CALL DISPLAYB
0119    004B    0008    	RETURN
0120    004C            PASO3B
0121    004C    3003    	MOVLW	B'00000011' ; EN W SE ENCUENTRA 0001100
0122    004D    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0123    004E    2057    	CALL DISPLAYB
0124    004F    0008    	RETURN
0125    0050            PASO4B
0126    0050    3009    	MOVLW	B'00001001' ; EN W SE ENCUENTRA 0001100
0127    0051    00A1    	MOVWF	DATO		; DE W A F LE MOVEMOS F
0128    0052    2057    	CALL DISPLAYB
0129    0053    0008    	RETURN
0130    0054            
0131    0054            
0132    0054            
0133    0054            DISPLAYA
0134    0054    0821    	MOVF	DATO, W
0135    0055    0086    	MOVWF	PORTB	
0136    0056    0008    	RETURN
0137    0057            
0138    0057            DISPLAYB
0139    0057            	; Se limpia mitad de puertos inservibles
0140    0057    1206    	BCF PORTB, 4
0141    0058    1286    	BCF PORTB, 5
0142    0059    1306    	BCF PORTB, 6
0143    005A    1386    	BCF PORTB, 7
0144    005B            
0145    005B            		; jeje
0146    005B            
0147    005B    0DA1    	RLF DATO, 1
0148    005C    0DA1    	RLF DATO, 1
0149    005D    0DA1    	RLF DATO, 1
0150    005E    0DA1    	RLF DATO, 1
0151    005F            
0152    005F    0821    	MOVF	DATO, W
0153    0060    0486    	IORWF	PORTB, 1	; OR ENTRE DATO Y PUERTOB
0154    0061            
0155    0061    0008    	RETURN
0156    0062            
0157    0062            ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0158    0062            MOVIMIENTOBDELANTE
0159    0062    300A    	movlw d'10'
0160    0063    00A6    	movwf d5
0161    0064            INICIOMOVIMIENTOA1
0162    0064    0BA6    	decfsz d5, 1
0163    0065    2867    	GOTO A1
0164    0066    0008    	RETURN
0165    0067            A1
0166    0067    2024    	CALL PASOBDELANTE 	; 32 PASOS
0167    0068    2864    	GOTO INICIOMOVIMIENTOA1
0168    0069            ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0169    0069            MOVIMIENTOBDETRAZ
0170    0069    300A    	movlw d'10'
0171    006A    00A6    	movwf d5
0172    006B            INICIOMOVIMIENTOA2
0173    006B    0BA6    	decfsz d5, 1
0174    006C    286E    	GOTO A2
0175    006D    0008    	RETURN
0176    006E            A2
0177    006E    202C    	CALL PASOBREVEZ	; 32 PASOS
0178    006F    286B    	GOTO INICIOMOVIMIENTOA2
0179    0070            ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0180    0070            ;;;;;;;;;;;;;;;;;;
0181    0070            
0182    0070            	
0183    0070            Delay
0184    0070            			;1693 cycles
0185    0070    3052    	movlw	0x52
0186    0071    00A2    	movwf	d1
0187    0072    3002    	movlw	0x02
0188    0073    00A3    	movwf	d2
0189    0074            Delay_0
0190    0074    0BA2    	decfsz	d1, f
0191    0075    2877    	goto	$+2
0192    0076    0BA3    	decfsz	d2, f
0193    0077    2874    	goto	Delay_0
0194    0078            
0195    0078            			;3 cycles
0196    0078    2879    	goto	$+1
0197    0079    0000    	nop
0198    007A            
0199    007A            			;4 cycles (including call)
0200    007A    0008    	return
0201    007B            ; Generated by http://w
---------------------------------------------
Number of errors = 0
